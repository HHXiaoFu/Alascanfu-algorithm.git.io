## æ•´æ•°ç¦»æ•£åŒ–ä»¥åŠæ€è·¯æ±‡æ€»å’Œä¾‹é¢˜

**ğŸ“æ€æƒ³ç†è§£ï¼š**

**å¸¸è§è€ƒå¯Ÿæ•´æ•°ç¦»æ•£åŒ–é—®é¢˜åˆ†æï¼š**

- å€¼åŸŸ $[ 0,10^9]$ , ä¸ªæ•° $10^5$
- ä¸”æ•°æ®æ•°ç»„æœ‰åºã€‚
- é€šå¸¸`å¼€ä¸€ä¸ªæ•°ç»„å¯¹å€¼åŸŸä¸­çš„ä»»æ„æ•°è¿›è¡Œç¦»æ•£åŒ–å­˜å‚¨åˆ°æ•°ç»„å¯¹åº”çš„ä¸‹æ ‡ä¸­`ï¼Œå°±æ˜¯ç¦»æ•£åŒ–ç®—æ³•ã€‚

**ç®€å•å½’çº³ï¼šå€¼åŸŸè·¨åº¦å¾ˆå¤§ï¼Œä½†æ˜¯ä¸‹æ ‡éå¸¸ç¨€ç–å°±å¯ä»¥é‡‡ç”¨ç¦»æ•£åŒ–ã€‚**

:books: **æ³¨æ„ç‚¹ï¼š** 

- æˆ‘ä»¬å¼€çš„æ•°ç»„å½“ä¸­å¯èƒ½å‡ºç°é‡å¤å…ƒç´ ï¼Œéœ€è¦**å»é‡ï¼ï¼ï¼**ã€‚
- **å¦‚ä½•ç®—å‡º$x$ ç¦»æ•£åŒ–åçš„å€¼å¯¹åº”çš„ä¸‹æ ‡ä½ç½®** ===> **äºŒåˆ†** 

```java
import java.util.*;
import java.io.*;
class P {
    int a , b;
    public P(int a,int b){
        this.a = a ;
        this.b = b ;
    }
}

class Main{
    static int N = 300010;
    static int [] a ,s; // a ä»£è¡¨çš„æ˜¯ç¦»æ•£åŒ–çš„ä½ç½®å­˜å‚¨æ•°æ® s æ˜¯ä»£è¡¨açš„å‰ç¼€å’Œ
    static List<P> adds,query;// ç”¨äºè®°å½•æ·»åŠ ä¸æŸ¥è¯¢çš„æ“ä½œ
    static List<Integer> alls;// ç”¨äºè®°å½•ç¦»æ•£åŒ–åçš„ä¸‹æ ‡ ç”¨åˆ°çš„ä¸‹æ ‡éƒ½ä¼šè¢«ç¦»æ•£åŒ– å³ 300010ä¸ªç”¨åˆ°çš„ä¸‹æ ‡
    static void init(){
        a = new int[N];
        s = new int[N];
        adds = new ArrayList<>();
        alls = new ArrayList<>();
        query = new ArrayList<>();
    }
    
    
    public static void main(String[] args )throws IOException{
        init();
        InputStreamReader in = new InputStreamReader(System.in);
        BufferedReader br = new BufferedReader(in);
        
        String[] params = br.readLine().split(" ");
        int n = Integer.parseInt(params[0]);
        int m = Integer.parseInt(params[1]);
        // åˆå§‹åŒ– add æ“ä½œ ï¼Œå¹¶ä¸”è®°å½•add æ“ä½œéœ€è¦ç”¨åˆ°çš„å“ªäº›ä¸‹æ ‡åŠ å…¥åˆ°allsä¸­ï¼ŒåŒæ—¶æŠŠå¯¹å½“å‰ä¸‹æ ‡çš„æ“ä½œè®°å½•åˆ°addsä¸­ 
        for (int i = 1 ; i<= n;i++){
            String[] params1 = br.readLine().split(" ");
            int x = Integer.parseInt(params1[0]);
            int c = Integer.parseInt(params1[1]);
            adds.add(new P(x,c));
            alls.add(x);
        }
        // åˆå§‹åŒ–queryæ“ä½œ ï¼Œå°†ç”¨åˆ°çš„æ‰€æœ‰ä¸‹æ ‡ l, r æ·»åŠ åˆ°alls ä¸­çš„åŒæ—¶è®°å½•queryæ“ä½œåˆ°queryä¸­ã€‚
        for (int i = 1 ; i<= m;i++){
            String[] params1 = br.readLine().split(" ");
            int l = Integer.parseInt(params1[0]);
            int r = Integer.parseInt(params1[1]);
            query.add(new P(l,r));
            alls.add(l);
            alls.add(r);
        }
        // æ’åº + å»é‡
        Collections.sort(alls);
        alls = new ArrayList<>(new LinkedHashSet<>(alls));
        // å¯¹äºæ¯ä¸ªadds æ“ä½œ æˆ‘ä»¬éœ€è¦å…ˆæŸ¥æ‰¾åˆ°è¿™ä¸ªä¸‹æ ‡ç»è¿‡ç¦»æ•£åŒ–åçš„ä¸‹æ ‡ä½ç½®ã€‚
        for ( P p : adds){
            int index = find(alls,p.a);
            // å¯¹å½“å‰çš„å€¼è¿›è¡Œä¿®æ”¹
            a[index] += p.b;
        }
        // æ±‚å‰ç¼€å’Œ
        for (int i = 1; i<= alls.size();i++){
            s[i] = s[i-1] + a[i];
        }
        // å¯¹æ¯ä¸€æ¬¡æŸ¥è¯¢æ“ä½œè¿›è¡ŒæŸ¥è¯¢
        for (P p : query){
            int l = find(alls,p.a);
            int r = find(alls,p.b);
            System.out.println(s[r] - s[l - 1]);
        }
    }
    // äºŒåˆ†æŸ¥æ‰¾ æ‰¾åˆ°å¯¹åº”çš„ä¸‹æ ‡ä½ç½®
    static int find(List<Integer> alls,int target){
        int l = 0 ;
        int r = alls.size();
        while (l < r){
            int mid = l + r >> 1;
            if (alls.get(mid) >= target){
                r = mid;
            }else {
                l = mid + 1;
            }
        }
        return l + 1;
    }
}
```

